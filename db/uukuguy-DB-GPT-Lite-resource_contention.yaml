app: DB-GPT-Lite
repo: https://github.com/uukuguy/DB-GPT-Lite
commit: d857cb71f2c19e8535d0f5e9692e15c4e4dd100d
defect_id: uukuguy-DB-GPT-Lite-resource_contention-/
type: resource contention
case: /
consequence:
- ST
locations:
- 1.dbgpt/util/openai_utils.py
- 2.dbgpt/model/cluster/client.py
- 3.dbgpt/model/cluster/worker/remote_worker.py
trigger_tests:
- '1.Install and configure DB-GPT using Docker.

  2.Test the chat data mode using Python SDK. The test code is as follows：


  import asyncio

  from dbgpt.client import Client

  async def main():

  # initialize client

  DBGPT_API_KEY = ""

  client = Client(api_key=DBGPT_API_KEY)

  #async for data in client.chat_stream(

  # model="tongyi_proxyllm",

  # messages="hello",

  #):

  # print(data)

  res = await client.chat(model="tongyi_proxyllm" ,messages="hello")

  print(res)

  if name == "main":

  asyncio.run(main())'
